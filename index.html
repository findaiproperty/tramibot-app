<!DOCTYPE html>
<html>
<head>
    <title>Tramibot - Free Appointment Alerts</title>
    <style>
        body { font-family: Arial, sans-serif; max-width: 800px; margin: 0 auto; padding: 20px; }
        .status { padding: 15px; border-radius: 5px; margin: 20px 0; }
        .online { background: #d4edda; color: #155724; border: 1px solid #c3e6cb; }
        .offline { background: #f8d7da; color: #721c24; border: 1px solid #f5c6cb; }
        button { background: #007bff; color: white; padding: 12px 24px; border: none; border-radius: 5px; cursor: pointer; font-size: 16px; }
        button:hover { background: #0056b3; }
    </style>
</head>
<body>
    <h1>üöÄ Tramibot - Free Appointment Alerts</h1>
    <p>We check when Spanish appointment systems are accessible</p>
    
    <div id="status" class="status">Checking system status...</div>
    
    <button onclick="window.open('https://sede.administracionespublicas.gob.es/icpplus/')">
        üìÖ Check Appointments Now
    </button>
    
    <div style="margin-top: 30px; padding: 15px; background: #f8f9fa; border-radius: 5px;">
        <h3>‚ö†Ô∏è Legal Note</h3>
        <p>We only check if the official system is online. Users must book appointments themselves on the government website.</p>
    </div>

    <script>
        async function checkSystem() {
            try {
                const statusDiv = document.getElementById('status');
                const response = await fetch('https://sede.administracionespublicas.gob.es/icpplus/');
                
                if (response.status === 200) {
                    statusDiv.innerHTML = '‚úÖ <strong>System Online</strong> - Appointment system is accessible!';
                    statusDiv.className = 'status online';
                } else {
                    statusDiv.innerHTML = '‚ùå <strong>System Issue</strong> - Appointment system may be down';
                    statusDiv.className = 'status offline';
                }
            } catch (error) {
                document.getElementById('status').innerHTML = '‚ùå <strong>System Offline</strong> - Cannot reach appointment system';
                document.getElementById('status').className = 'status offline';
            }
        }
        
        // Check when page loads
        checkSystem();
        // Check every 5 minutes
        setInterval(checkSystem, 300000);
    </script>
</body>
</html>
